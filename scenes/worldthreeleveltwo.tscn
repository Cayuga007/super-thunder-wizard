[gd_scene load_steps=29 format=3 uid="uid://pcopr3lhd05m"]

[ext_resource type="Script" path="res://scripts/world.gd" id="1_kaq2d"]
[ext_resource type="PackedScene" uid="uid://bhv60gph8g6li" path="res://scenes/wizard.tscn" id="2_bb20w"]
[ext_resource type="PackedScene" uid="uid://bv8jqysh3v65o" path="res://scenes/knight.tscn" id="3_pgeec"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_vudmy"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_wousf"]
sky_material = SubResource("ProceduralSkyMaterial_vudmy")

[sub_resource type="Environment" id="Environment_bgbxy"]
background_mode = 2
sky = SubResource("Sky_wousf")
ambient_light_source = 3
tonemap_mode = 2
glow_enabled = true
glow_strength = 1.5
glow_blend_mode = 1

[sub_resource type="PlaneMesh" id="PlaneMesh_1qw3d"]
size = Vector2(12, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ymtsr"]
albedo_color = Color(0.501961, 0, 0.501961, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_v1dou"]
data = PackedVector3Array(6, 0, 5, -6, 0, 5, 6, 0, -5, -6, 0, 5, -6, 0, -5, 6, 0, -5)

[sub_resource type="BoxMesh" id="BoxMesh_egnxl"]
size = Vector3(12, 10, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_tb8cu"]
albedo_color = Color(1, 0.501961, 1, 1)

[sub_resource type="BoxMesh" id="BoxMesh_3sg5a"]
size = Vector3(12, 1, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ckh2p"]
albedo_color = Color(0.501961, 0, 0.501961, 1)

[sub_resource type="BoxMesh" id="BoxMesh_62cmj"]
size = Vector3(1, 10, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pgyxh"]
albedo_color = Color(0.501961, 0, 0.501961, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_inccl"]
data = PackedVector3Array(-0.5, 5, 5, 0.5, 5, 5, -0.5, -5, 5, 0.5, 5, 5, 0.5, -5, 5, -0.5, -5, 5, 0.5, 5, -5, -0.5, 5, -5, 0.5, -5, -5, -0.5, 5, -5, -0.5, -5, -5, 0.5, -5, -5, 0.5, 5, 5, 0.5, 5, -5, 0.5, -5, 5, 0.5, 5, -5, 0.5, -5, -5, 0.5, -5, 5, -0.5, 5, -5, -0.5, 5, 5, -0.5, -5, -5, -0.5, 5, 5, -0.5, -5, 5, -0.5, -5, -5, 0.5, 5, 5, -0.5, 5, 5, 0.5, 5, -5, -0.5, 5, 5, -0.5, 5, -5, 0.5, 5, -5, -0.5, -5, 5, 0.5, -5, 5, -0.5, -5, -5, 0.5, -5, 5, 0.5, -5, -5, -0.5, -5, -5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3q48j"]
albedo_color = Color(0.501961, 0, 0.501961, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_h1xwx"]
data = PackedVector3Array(-0.5, 5, 5, 0.5, 5, 5, -0.5, -5, 5, 0.5, 5, 5, 0.5, -5, 5, -0.5, -5, 5, 0.5, 5, -5, -0.5, 5, -5, 0.5, -5, -5, -0.5, 5, -5, -0.5, -5, -5, 0.5, -5, -5, 0.5, 5, 5, 0.5, 5, -5, 0.5, -5, 5, 0.5, 5, -5, 0.5, -5, -5, 0.5, -5, 5, -0.5, 5, -5, -0.5, 5, 5, -0.5, -5, -5, -0.5, 5, 5, -0.5, -5, 5, -0.5, -5, -5, 0.5, 5, 5, -0.5, 5, 5, 0.5, 5, -5, -0.5, 5, 5, -0.5, 5, -5, 0.5, 5, -5, -0.5, -5, 5, 0.5, -5, 5, -0.5, -5, -5, 0.5, -5, 5, 0.5, -5, -5, -0.5, -5, -5)

[sub_resource type="BoxMesh" id="BoxMesh_e57y5"]
size = Vector3(2, 0.1, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gy02g"]
albedo_color = Color(0.501961, 0, 0.501961, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_bvf5v"]
data = PackedVector3Array(-1, 0.05, 0.5, 1, 0.05, 0.5, -1, -0.05, 0.5, 1, 0.05, 0.5, 1, -0.05, 0.5, -1, -0.05, 0.5, 1, 0.05, -0.5, -1, 0.05, -0.5, 1, -0.05, -0.5, -1, 0.05, -0.5, -1, -0.05, -0.5, 1, -0.05, -0.5, 1, 0.05, 0.5, 1, 0.05, -0.5, 1, -0.05, 0.5, 1, 0.05, -0.5, 1, -0.05, -0.5, 1, -0.05, 0.5, -1, 0.05, -0.5, -1, 0.05, 0.5, -1, -0.05, -0.5, -1, 0.05, 0.5, -1, -0.05, 0.5, -1, -0.05, -0.5, 1, 0.05, 0.5, -1, 0.05, 0.5, 1, 0.05, -0.5, -1, 0.05, 0.5, -1, 0.05, -0.5, 1, 0.05, -0.5, -1, -0.05, 0.5, 1, -0.05, 0.5, -1, -0.05, -0.5, 1, -0.05, 0.5, 1, -0.05, -0.5, -1, -0.05, -0.5)

[sub_resource type="Curve3D" id="Curve3D_jxj6u"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 2, 0, 0, -0.838364, -0.0122044, 0, 0.838364, 0.0122044, 0, 3.02911, 2.62604, 0, 0, 0, 0, 0, 0, 0, 4, 1.8, 0),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_endn6"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 4, 1.8, 0, 1.99949, -0.003829, 0, -1.99949, 0.003829, 0, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 1.8, 0, 2.02033, 0.00099659, 0, -2.02033, -0.00099659, 0, -2, 5, 0, 0, 0, 0, 0, 0, 0, -4, 1.8, 0),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="BoxShape3D" id="BoxShape3D_bdop3"]
size = Vector3(11, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_jqa1n"]
size = Vector3(11, 1, 10)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4stbx"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_wtkg4"]
size = Vector3(11, 1, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_1501x"]
size = Vector3(1, 2, 2)

[node name="WorldThreeLevelTwo" type="Node3D" node_paths=PackedStringArray("enemy")]
script = ExtResource("1_kaq2d")
enemy = NodePath("Knight")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_bgbxy")

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 9, 0)
spot_range = 4096.0
spot_angle = 180.0

[node name="Room" type="Node3D" parent="."]

[node name="Ground" type="MeshInstance3D" parent="Room"]
mesh = SubResource("PlaneMesh_1qw3d")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_ymtsr")

[node name="StaticBody3D" type="StaticBody3D" parent="Room/Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Room/Ground/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_v1dou")

[node name="Back" type="MeshInstance3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 5, -5)
mesh = SubResource("BoxMesh_egnxl")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_tb8cu")

[node name="Ceiling" type="MeshInstance3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, 0)
mesh = SubResource("BoxMesh_3sg5a")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_ckh2p")

[node name="LeftWall" type="MeshInstance3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6, 5, 0)
mesh = SubResource("BoxMesh_62cmj")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_pgyxh")

[node name="StaticBody3D" type="StaticBody3D" parent="Room/LeftWall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Room/LeftWall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_inccl")

[node name="RightWall" type="MeshInstance3D" parent="Room"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 5, 0)
mesh = SubResource("BoxMesh_62cmj")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_3q48j")

[node name="StaticBody3D" type="StaticBody3D" parent="Room/RightWall"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Room/RightWall/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_h1xwx")

[node name="Platforms" type="Node3D" parent="."]

[node name="Platform" type="MeshInstance3D" parent="Platforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.75, 0)
mesh = SubResource("BoxMesh_e57y5")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_gy02g")

[node name="StaticBody3D" type="StaticBody3D" parent="Platforms/Platform"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Platforms/Platform/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_bvf5v")

[node name="Platform2" type="MeshInstance3D" parent="Platforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1.75, 0)
mesh = SubResource("BoxMesh_e57y5")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_gy02g")

[node name="StaticBody3D" type="StaticBody3D" parent="Platforms/Platform2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Platforms/Platform2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_bvf5v")

[node name="Platform3" type="MeshInstance3D" parent="Platforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 1.75, 0)
mesh = SubResource("BoxMesh_e57y5")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_gy02g")

[node name="StaticBody3D" type="StaticBody3D" parent="Platforms/Platform3"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Platforms/Platform3/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_bvf5v")

[node name="Tools" type="Node3D" parent="."]

[node name="InitialJump" type="Path3D" parent="Tools"]
curve = SubResource("Curve3D_jxj6u")

[node name="PathFollow3D" type="PathFollow3D" parent="Tools/InitialJump"]
transform = Transform3D(7.54979e-08, -0.931059, -0.364869, 0, 0.364869, -0.931059, 1, 7.0293e-08, 2.75469e-08, 2, 0, 0)

[node name="AttackJump" type="Path3D" parent="Tools"]
curve = SubResource("Curve3D_endn6")

[node name="PathFollow3D" type="PathFollow3D" parent="Tools/AttackJump"]
transform = Transform3D(9.93398e-08, 0.847998, 0.529999, -5.96046e-08, 0.529999, -0.847998, -1, 5.26495e-08, 1.03195e-07, 4, 1.8, 0)

[node name="Lava" type="Area3D" parent="Tools"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Tools/Lava"]
shape = SubResource("BoxShape3D_bdop3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Tools/Lava"]
mesh = SubResource("BoxMesh_jqa1n")
surface_material_override/0 = SubResource("StandardMaterial3D_4stbx")

[node name="DashHitbox" type="Area3D" parent="Tools"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Tools/DashHitbox"]
shape = SubResource("BoxShape3D_wtkg4")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 6)

[node name="Wizard" parent="." instance=ExtResource("2_bb20w")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -2, 0, 0)

[node name="Knight" parent="." node_paths=PackedStringArray("target", "tools") instance=ExtResource("3_pgeec")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2, 0, 0)
target = NodePath("../Wizard")
tools = NodePath("../Tools")

[node name="Hitbox" type="Area3D" parent="Knight"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Knight/Hitbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("BoxShape3D_1501x")
